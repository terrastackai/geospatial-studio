# Â© Copyright IBM Corporation 2025
# SPDX-License-Identifier: Apache-2.0


apiVersion: v1
kind: Service
metadata:
  name: {{ .Values.global.appNames.gateway }}
  annotations:
    service.beta.openshift.io/serving-cert-secret-name: {{ .Values.global.appNames.gateway }}-authentication-tls
  labels:
    app: {{ .Values.global.appNames.gateway }} 
spec:
  type: {{ .Values.services.api.type }}
  ports:
    {{- if .Values.global.oauth.oauthProxyEnabled }}
    - name: oauth
      port: {{ .Values.global.oauth.oauthProxyPort }}
      protocol: TCP
      targetPort: {{ .Values.global.oauth.oauthProxyPort }}
    {{- else }}
    - name: http
      port: 8000
      protocol: TCP
      targetPort: 8000
    {{- end }}
  selector:
    app: {{ .Values.global.appNames.gateway }} 
